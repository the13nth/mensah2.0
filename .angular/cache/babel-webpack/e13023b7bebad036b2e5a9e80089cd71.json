{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Storage } from '@capacitor/storage';\nimport { INTRO_KEY } from '../introduction/introduction.page';\nlet Tab1Page = class Tab1Page {\n  constructor(http, db) {\n    this.http = http;\n    this.db = db;\n  }\n\n  ngOnInit() {\n    console.log(\"on init loaded\");\n    this.getpassengers();\n  }\n\n  resetIntro() {\n    return __awaiter(this, void 0, void 0, function* () {\n      yield Storage.remove({\n        key: INTRO_KEY\n      });\n    });\n  }\n\n  getpassengers() {\n    //run function every 10 seconds\n    setInterval(() => {\n      10;\n    }, 10000);\n    this.livedemopassengers = this.db.list('current-passengers');\n    console.log(this.livedemopassengers);\n    this.livedemopassengers.valueChanges().subscribe(data => {\n      this.pdata = data;\n      this.livepassengercount = this.pdata[this.pdata.length - 1][0];\n      this.livepassengercounttime = this.pdata[this.pdata.length - 1][1];\n      this.livepassengercountlocation = this.pdata[this.pdata.length - 1][2];\n      console.log('Number of passengers last sub:', this.livepassengercount); //return this.livedemopassengers.valueChanges();\n    });\n  }\n\n};\nTab1Page = __decorate([Component({\n  selector: 'app-tab1',\n  templateUrl: 'tab1.page.html',\n  styleUrls: ['tab1.page.scss']\n})], Tab1Page);\nexport { Tab1Page };","map":null,"metadata":{},"sourceType":"module"}